<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>AppFriends API - AppFriends Documentation</title>
      
      
      
        <link rel="canonical" href="http://www.appfriends.me/api/">
      
      
        <meta name="author" content="John Doe">
      
    
    <meta property="og:url" content="http://www.appfriends.me/api/">
    <meta property="og:title" content="AppFriends Documentation">
    <meta property="og:image" content="http://www.appfriends.me/api//../images/logo.png">
    <meta name="apple-mobile-web-app-title" content="AppFriends Documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../images/logo.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../None">
    <link rel="icon" type="image/x-icon" href="../None">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-54f87043f3.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open Sans:400,700|Monaco">
      <style>
        body, input {
          font-family: 'Open Sans', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Monaco', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../extra.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-deep-orange palette-accent-orange">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        AppFriends API
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../images/logo.png">
        </div>
      
      <div class="name">
        <strong>
          AppFriends Documentation
          <span class="version">
            
          </span>
        </strong>
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Welcome" href="..">
      Welcome
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="iOS Documentation" href="../ios/">
      iOS Documentation
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Android Documentation" href="../android/">
      Android Documentation
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="AppFriends API" href="./">
      AppFriends API
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="REST API's" href="#rest-apis">
                REST API's
              </a>
            </li>
          
            <li class="anchor">
              <a title="User" href="#user">
                User
              </a>
            </li>
          
            <li class="anchor">
              <a title="Followers and Friends" href="#followers-and-friends">
                Followers and Friends
              </a>
            </li>
          
            <li class="anchor">
              <a title="Block/unblock users" href="#blockunblock-users">
                Block/unblock users
              </a>
            </li>
          
            <li class="anchor">
              <a title="Reporting a user" href="#reporting-a-user">
                Reporting a user
              </a>
            </li>
          
            <li class="anchor">
              <a title="Channels" href="#channels">
                Channels
              </a>
            </li>
          
            <li class="anchor">
              <a title="Messaging" href="#messaging">
                Messaging
              </a>
            </li>
          
            <li class="anchor">
              <a title="Dialogs" href="#dialogs">
                Dialogs
              </a>
            </li>
          
            <li class="anchor">
              <a title="Admin APIs" href="#admin-apis">
                Admin APIs
              </a>
            </li>
          
            <li class="anchor">
              <a title="Errors" href="#errors">
                Errors
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Authentication and API Requests" href="../security/">
      Authentication and API Requests
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Chat" href="../chat/">
      Chat
    </a>
    
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="appfriends-api-documentation">AppFriends API Documentation</h1>
<p>AppFriends API can be used to authenticate user, send messages, search for user, update user information, create social relationship and etc.</p>
<ul>
<li>For user related APIs and users search. See <a href="#Users">Users</a>.</li>
<li>For open chat channels. See <a href="#Channels">Channels</a>.</li>
<li>For messaging. See <a href="#Messaging">Messaging</a>.</li>
<li>For admin API's, see <a href="#Admin-APIs">Admin API</a>.</li>
</ul>
<p>Most of the AppFriends APIs are accessed by using REST API</p>
<h2 id="rest-apis">REST API's</h2>
<p>Base URL: <strong>https://appfriends-api.hacknocraft.com/api/v3/</strong></p>
<p>If you use our out of box UI, all functionalities are enabled and ready to use by default, but if you want to make a customized UI, we certainly facilitate that as well. To access and modify data on AppFriends, you can ultilize our REST interface. There are two types of REST API's:</p>
<blockquote>
<ol>
<li>Application API</li>
<li>Admin API</li>
</ol>
</blockquote>
<p>Have fun! and remember to tell us what you made, and how we can improve our product to better support you.</p>
<h3 id="application-api">Application API</h3>
<p>Application API's can only be accessed via the SDK, using the application secret. </p>
<h3 id="admin-api">Admin API</h3>
<p>The admin api's can be accessed via any http client, using the admin secret. </p>
<h3 id="response">Response</h3>
<p>All responses from the REST API will be in <code>JSON</code> format. When a request is successful, the REST api will respond with requested data. When request is failed, an error with appropriate error code and some description of the error will be returned.</p>
<h4 id="sample-error-response">Sample error response:</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s2">&quot;reason&quot;</span><span class="o">:</span> <span class="s2">&quot;invalid parameters&quot;</span>
        <span class="s2">&quot;detail&quot;</span><span class="o">:</span> <span class="s2">&quot;user id cannot be empty&quot;</span>
        <span class="s2">&quot;more_info&quot;</span><span class="o">:</span> <span class="s2">&quot;https://appfriends.me/documentation&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="user">User</h2>
<div class="admonition note">
<p class="admonition-title"><strong>/me</strong>, a shortcut for current user</p>
<p><em>/me</em>, is a shortcut for <em>/user/[:current_user_id]</em>. For example, <em>/me/profile</em> is equivalent to <em>/user/[:current_user_id]/profile</em>. </p>
</div>
<h3 id="1-get-user-information">1. Get User information</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]</code></td>
<td>GET</td>
<td>Application</td>
<td>get the user's information</td>
</tr>
</tbody>
</table>
<h4 id="response_1">Response</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                           <span class="c1">// user id provided by hosting app when sign up the user. Always use this id.</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                        <span class="c1">// user&#39;s email if provided</span>
    <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                    <span class="c1">// username</span>
    <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                       <span class="c1">// user&#39;s avatar if provided</span>
    <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                  <span class="c1">// custom data of the user</span>
<span class="p">}</span>
</pre></div>


<hr />
<h3 id="2-update-user-information">2. Update User information</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]</code></td>
<td>PUT</td>
<td>Application</td>
<td>update the user's information</td>
</tr>
</tbody>
</table>
<h4 id="request-parameters">Request Parameters</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>           <span class="c1">// required, the name of the chat group</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>        <span class="c1">// optional, email of the user</span>
    <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>    <span class="c1">// optional, username,</span>
    <span class="s2">&quot;real_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>    <span class="c1">// optional, the real name of the user</span>
    <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>       <span class="c1">// optional, the avatar of the user</span>
   <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                   <span class="c1">// optional , custom data of the user</span>
<span class="p">}</span>
</pre></div>


<h4 id="response_2">Response</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>               <span class="c1">// user id provided by hosting app </span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>            <span class="c1">// user&#39;s email if provided</span>
    <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>        <span class="c1">// username</span>
    <span class="s2">&quot;real_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>        <span class="c1">// user&#39;s real name if provided</span>
    <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>           <span class="c1">// user&#39;s avatar if provided</span>
    <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>      <span class="c1">// optional , custom data of the user</span>
<span class="p">}</span>
</pre></div>


<h2 id="followers-and-friends">Followers and Friends</h2>
<h3 id="1-get-a-users-followers">1. Get a user's followers</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]/followers</code></td>
<td>GET</td>
<td>Application</td>
<td>Get all the followers of the user.</td>
</tr>
</tbody>
</table>
<h4 id="response_3">Response</h4>
<div class="code"><pre><span></span><span class="p">{</span>
<span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;782&quot;</span><span class="p">,</span>
      <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="s2">&quot;wshucn7&quot;</span><span class="p">,</span>
      <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="s2">&quot;https://cdn1.iconfinder.com/data/icons/user-pictures/100/male3-128.png&quot;</span>
        <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>      <span class="c1">// optional , custom data of the user</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="s2">&quot;haowang&quot;</span><span class="p">,</span>
      <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="s2">&quot;https://robohash.org/3&quot;</span>
        <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>      <span class="c1">// optional , custom data of the user</span>
    <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<hr />
<h3 id="2-get-the-users-who-a-user-is-following">2. Get the users who a user is following</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]/followings</code></td>
<td>GET</td>
<td>Application</td>
<td>Get all the users that the user is following.</td>
</tr>
</tbody>
</table>
<h4 id="response_4">Response</h4>
<div class="code"><pre><span></span><span class="c1">// array of users that the current user is following</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>               <span class="c1">// user id provided by hosting app </span>
        <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>        <span class="c1">// username</span>
        <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>           <span class="c1">// user&#39;s avatar if provided</span>
         <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>     <span class="c1">// optional , custom data of the user</span>
    <span class="p">},</span> 
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>               
        <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>        
        <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>   
         <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>     <span class="c1">// optional , custom data of the user</span>
    <span class="p">}</span>
    <span class="p">...</span>
<span class="p">]</span>
</pre></div>


<hr />
<h3 id="3-make-the-current-user-follow-a-user">3. Make the current user follow a user</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/me/:id/follow</code></td>
<td>PUT</td>
<td>Application</td>
<td>Make the current user follow a user</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="4-make-the-current-user-unfollow-a-user">4. Make the current user unfollow a user</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/me/:id/unfollow</code></td>
<td>PUT</td>
<td>Application</td>
<td>Make the current user unfollow a user</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="5-get-the-friends-of-a-user">5. Get the friends of a user</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]/Friends</code></td>
<td>GET</td>
<td>Application</td>
<td>Get the user's friends</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">who are my friends?</p>
<p>Friends are users who follow each other.</p>
</div>
<h4 id="response_5">Response</h4>
<div class="code"><pre><span></span><span class="c1">// array of users</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>               <span class="c1">// user id provided by hosting app </span>
        <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>        <span class="c1">// username</span>
        <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>           <span class="c1">// user&#39;s avatar if provided</span>
        <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>      <span class="c1">// optional , custom data of the user</span>
    <span class="p">},</span> 
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>               
        <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>        
        <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>   
        <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>      <span class="c1">// optional , custom data of the user       </span>
    <span class="p">}</span>
    <span class="p">...</span>
<span class="p">]</span>
</pre></div>


<hr />
<h2 id="blockunblock-users">Block/unblock users</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]/block</code></td>
<td>POST</td>
<td>Application</td>
<td>Block this user</td>
</tr>
<tr>
<td><code>/users/[:id]/unblock</code></td>
<td>POST</td>
<td>Application</td>
<td>Unblock this user</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="reporting-a-user">Reporting a user</h2>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]/report</code></td>
<td>POST</td>
<td>Application</td>
<td>report this user</td>
</tr>
</tbody>
</table>
<h4 id="request-parameters_1">Request Parameters</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;reason&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>           <span class="c1">// the reason why the user is being reported</span>
<span class="p">}</span>
</pre></div>


<hr />
<h2 id="channels">Channels</h2>
<p>Chat channels are open to any user. </p>
<h3 id="1-get-all-chat-channels">1. Get all chat channels</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/channels</code></td>
<td>GET</td>
<td>Application</td>
<td>get all the public chat channels</td>
</tr>
</tbody>
</table>
<h4 id="response_6">Response</h4>
<div class="code"><pre><span></span><span class="p">[</span>
<span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                     <span class="c1">// chat channel name</span>
    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                    <span class="c1">// title of the activity</span>
    <span class="s2">&quot;cover_image_url&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>          <span class="c1">// the cover image of the channel</span>
    <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>              <span class="c1">// custom data. If you want to send object or json, please convert to string</span>
<span class="p">},</span>
<span class="p">....</span>
<span class="p">]</span>
</pre></div>


<hr />
<h3 id="2-create-a-chat-channel">2. Create a chat channel</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/channels</code></td>
<td>POST</td>
<td>Application</td>
<td>create a chat channel</td>
</tr>
</tbody>
</table>
<h4 id="request">Request</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                     <span class="c1">// chat channel name</span>
    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                    <span class="c1">// title of the activity</span>
    <span class="s2">&quot;cover_image_url&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>          <span class="c1">// the cover image of the channel</span>
    <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>              <span class="c1">// custom data. If you want to send object or json, please convert to string</span>
<span class="p">}</span>
</pre></div>


<h4 id="response_7">Response</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="kr">int</span><span class="p">,</span>                          <span class="c1">// chat channel id</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                     <span class="c1">// chat channel name</span>
    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                    <span class="c1">// title of the activity</span>
    <span class="s2">&quot;create_time&quot;</span><span class="o">:</span> <span class="kr">int</span><span class="p">,</span>                 <span class="c1">// create time of the channel</span>
    <span class="s2">&quot;cover_image_url&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>          <span class="c1">// the cover image of the channel</span>
<span class="p">}</span>
</pre></div>


<hr />
<h3 id="3-modify-a-chat-channel">3. Modify a chat channel</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/channels/[:id]</code></td>
<td>PUT</td>
<td>Application</td>
<td>modify a chat channel</td>
</tr>
</tbody>
</table>
<h4 id="request_1">Request</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                     <span class="c1">// optional, chat channel name</span>
    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                    <span class="c1">// optional, title of the activity</span>
    <span class="s2">&quot;cover_image_url&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>          <span class="c1">// optional, the cover image of the channel</span>
    <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>              <span class="c1">// custom data. If you want to send object or json, please convert to string</span>
<span class="p">}</span>
</pre></div>


<hr />
<h3 id="4-delete-a-chat-channel">4. Delete a chat channel</h3>
<p><code>/channels/[:id]</code> | DELETE | Application | delete a chat channel</p>
<h2 id="messaging">Messaging</h2>
<h3 id="1-sending-a-message">1. Sending a message</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dialogs/[:id]/messages</code></td>
<td>POST</td>
<td>Application</td>
<td>Send a message in a dialog</td>
</tr>
<tr>
<td><code>/users/[:id]/messages</code></td>
<td>POST</td>
<td>Application</td>
<td>Send a message to a user</td>
</tr>
<tr>
<td><code>/channels/[:id]/messages</code></td>
<td>POST</td>
<td>Application</td>
<td>Send a message to a chat channel</td>
</tr>
</tbody>
</table>
<h4 id="request_2">Request</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;text&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                     <span class="c1">// message content</span>
    <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>              <span class="c1">// custom data. If you want to send object or json, please convert to string</span>
<span class="p">}</span>
</pre></div>


<h4 id="response_8">Response</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;text&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                     <span class="c1">// message content</span>
    <span class="s2">&quot;custom_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>              <span class="c1">// custom data. If you want to send object or json, please convert to string</span>
    <span class="s2">&quot;meta_data&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                <span class="c1">// meta data. Reserved field</span>
    <span class="s2">&quot;dialog_id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>                <span class="c1">// dialog id</span>
    <span class="s2">&quot;dialog_type&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>              <span class="c1">// dialog type: i (individual), g (group), c (channel), s (system)</span>
<span class="p">}</span>
</pre></div>


<h3 id="2-receiving-messages">2. Receiving messages</h3>
<p>To receive messages, you need to use the native code:</p>
<div class="code"><pre><span></span><span class="c1">// iOS Swift</span>
<span class="nx">HCSDKCore</span><span class="p">.</span><span class="nx">sharedInstance</span><span class="p">.</span><span class="nx">syncDelegate</span> <span class="o">=</span> <span class="nx">self</span>
</pre></div>


<p>Then implement:</p>
<div class="code"><pre><span></span><span class="n">public</span> <span class="n">func</span> <span class="n">messagesReceived</span><span class="p">(</span><span class="nl">messages</span><span class="p">:</span> <span class="p">[[</span><span class="nl">String</span> <span class="p">:</span> <span class="n">AnyObject</span><span class="p">]])</span> 
</pre></div>


<h2 id="dialogs">Dialogs</h2>
<h3 id="1-create-a-dialog">1. Create a dialog</h3>
<p>To start a new conversation, call this method to create a dialog with users. You can then add or remove users from it.</p>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dialogs</code></td>
<td>POST</td>
<td>Application</td>
<td>create a chat dialog</td>
</tr>
</tbody>
</table>
<h4 id="request-parameters_2">Request Parameters</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>         <span class="c1">// required, the name of the dialog</span>
    <span class="s2">&quot;members&quot;</span><span class="o">:</span> <span class="nx">array</span><span class="p">,</span>       <span class="c1">// required, an array of the id&#39;s of the users who you want to be in this dialog</span>
    <span class="s2">&quot;owner_id&quot;</span>              <span class="c1">// optional, the user id of the owner of the dialog</span>
<span class="p">}</span>
</pre></div>


<h4 id="json-response">JSON Response</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>           <span class="c1">// the id of the newly created chat dialog.</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>         <span class="c1">// the name of the dialog</span>
    <span class="s2">&quot;members&quot;</span><span class="o">:</span> <span class="nx">array</span><span class="p">,</span>       <span class="c1">// members in the dialog</span>
    <span class="s2">&quot;owner_id&quot;</span><span class="o">:</span> <span class="nx">string</span>      <span class="c1">// owner id, if provided</span>
<span class="p">}</span>
</pre></div>


<h3 id="2-get-all-dialogs-that-the-user-is-in">2. Get all dialogs that the user is in</h3>
<p>When you want to start chat for user, you need to call this api to create a dialog first. </p>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dialogs</code></td>
<td>GET</td>
<td>Application</td>
<td>get All dialogs that the user is currently in</td>
</tr>
</tbody>
</table>
<h4 id="json-response_1">JSON Response</h4>
<div class="code"><pre><span></span><span class="c1">// an array of dialogs</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>           <span class="c1">// the id of the chat dialog</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>         <span class="c1">// the name of the dialog       &quot;members&quot;: array,       // members in the dialog</span>
        <span class="s2">&quot;owner_id&quot;</span><span class="o">:</span> <span class="nx">string</span>      <span class="c1">// owner id, if provided</span>
    <span class="p">},</span>
    <span class="p">{</span>
    <span class="p">...</span>
    <span class="p">}</span>
    <span class="p">...</span>
<span class="p">]</span>
</pre></div>


<h3 id="3-modify-a-dialog">3. Modify a dialog</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dialogs/[:id]</code></td>
<td>PUT</td>
<td>Application</td>
<td>modify a dialog</td>
</tr>
</tbody>
</table>
<h4 id="request-parameters_3">Request Parameters</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span>         <span class="c1">// optional, the name of the dialog</span>
    <span class="s2">&quot;owner_id&quot;</span>              <span class="c1">// optional, the user id of the owner of the dialog</span>
<span class="p">}</span>
</pre></div>


<h3 id="4-add-users-to-a-group-chat-dialog">4. Add users to a group chat dialog</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dialogs/[:id]/members</code></td>
<td>POST</td>
<td>Application</td>
<td>add users to a dialog. After they users are added to the dialog, they will start receiving new messages from this dialog.</td>
</tr>
</tbody>
</table>
<h4 id="request-parameters_4">Request Parameters</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;members&quot;</span><span class="o">:</span> <span class="nx">array</span><span class="p">,</span>       <span class="c1">// required, the id&#39;s of the users who you want to add to the dialog</span>
<span class="p">}</span>
</pre></div>


<h3 id="5-remove-users-from-a-chat-group">5. Remove users from a chat group</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dialogs/[:id]/members</code></td>
<td>DELETE</td>
<td>Application</td>
<td>remove users from a dialog.</td>
</tr>
</tbody>
</table>
<h4 id="request-parameters_5">Request Parameters</h4>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;members&quot;</span><span class="o">:</span> <span class="nx">array</span><span class="p">,</span>       <span class="c1">// required, the id&#39;s of the users who you want to add to remove from the dialog</span>
<span class="p">}</span>
</pre></div>


<h3 id="6-delete-a-chat-group">6. Delete a chat group</h3>
<p>this api is only available to the owner of the group or using the admin secret</p>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dialogs/[:id]</code></td>
<td>DELETE</td>
<td>Application</td>
<td>The owner or admin can delete a dialog</td>
</tr>
</tbody>
</table>
<h2 id="admin-apis">Admin APIs</h2>
<h3 id="1-batch-create-and-update-users">1. Batch create and update users</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/batch_import</code></td>
<td>POST</td>
<td>Admin</td>
<td>create multiple users</td>
</tr>
<tr>
<td><code>/users/batch_change</code></td>
<td>PUT</td>
<td>Admin</td>
<td>update multiple users</td>
</tr>
</tbody>
</table>
<h4 id="request-body">Request Body</h4>
<div class="code"><pre><span></span><span class="c1">// array of users</span>
<span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;1235&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="s2">&quot;kejia&quot;</span><span class="p">,</span>
    <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="s2">&quot;https://avatar.appfriends.me/kejia.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;kejia@gmail.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;note&quot;</span><span class="o">:</span> <span class="s2">&quot;champion&quot;</span> <span class="c1">// notes for this user, if it has value, it will be displayed below the user name in the default UI</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;1236&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="s2">&quot;shuwei&quot;</span><span class="p">,</span>
    <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="s2">&quot;https://avatar.appfriends.me/shuwei.png&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;1237&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_name&quot;</span><span class="o">:</span> <span class="s2">&quot;mike&quot;</span><span class="p">,</span>
    <span class="s2">&quot;avatar&quot;</span><span class="o">:</span> <span class="s2">&quot;https://avatar.appfriends.me/mike.png&quot;</span>
  <span class="p">},</span>
  <span class="p">...</span>
 <span class="p">]</span>
</pre></div>


<h3 id="2-export-and-import-social-graph">2. Export and import social graph</h3>
<p><strong>Import social graph</strong></p>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/social_graph</code></td>
<td>POST</td>
<td>Admin</td>
<td>export social graph</td>
</tr>
</tbody>
</table>
<h4 id="request-body_1">Request Body</h4>
<div class="code"><pre><span></span><span class="c1">// id is the user, and followers and followings contains the id&#39;s</span>
<span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;16&quot;</span><span class="p">,</span>
    <span class="s2">&quot;followers&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;11&quot;</span><span class="p">,</span><span class="s2">&quot;12&quot;</span> <span class="p">...],</span>
    <span class="s2">&quot;followings&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;11, &quot;</span><span class="mi">12</span><span class="s2">&quot; ...]</span>
<span class="s2">  },</span>
<span class="s2">  {</span>
<span class="s2">    &quot;</span><span class="nx">id</span><span class="s2">&quot;: &quot;</span><span class="mi">19</span><span class="s2">&quot;,</span>
<span class="s2">    &quot;</span><span class="nx">followers</span><span class="s2">&quot;: [&quot;</span><span class="mi">11</span><span class="s2">&quot;,&quot;</span><span class="mi">12</span><span class="s2">&quot; ...],</span>
<span class="s2">    &quot;</span><span class="nx">followings</span><span class="s2">&quot;: [&quot;</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;12&quot;</span> <span class="p">...]</span>
  <span class="p">},</span>
  <span class="p">....</span>
<span class="p">]</span>
</pre></div>


<p><strong>Export social graph</strong></p>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/social_graph</code></td>
<td>GET</td>
<td>Admin</td>
<td>export social graph</td>
</tr>
</tbody>
</table>
<h4 id="response-body">Response Body</h4>
<div class="code"><pre><span></span><span class="c1">// id is the user, and friend id is the friend of the user</span>
<span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;16&quot;</span><span class="p">,</span>
    <span class="s2">&quot;followers&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;11&quot;</span><span class="p">,</span><span class="s2">&quot;12&quot;</span> <span class="p">...],</span>
    <span class="s2">&quot;followings&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;11, &quot;</span><span class="mi">12</span><span class="s2">&quot; ...]</span>
<span class="s2">  },</span>
<span class="s2">  {</span>
<span class="s2">    &quot;</span><span class="nx">id</span><span class="s2">&quot;: &quot;</span><span class="mi">19</span><span class="s2">&quot;,</span>
<span class="s2">    &quot;</span><span class="nx">followers</span><span class="s2">&quot;: [&quot;</span><span class="mi">11</span><span class="s2">&quot;,&quot;</span><span class="mi">12</span><span class="s2">&quot; ...],</span>
<span class="s2">    &quot;</span><span class="nx">followings</span><span class="s2">&quot;: [&quot;</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;12&quot;</span> <span class="p">...]</span>
  <span class="p">},</span>
  <span class="p">....</span>
<span class="p">]</span>
</pre></div>


<h3 id="3-update-user-token">3. Update user token</h3>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>API Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/users/[:id]/update_token</code></td>
<td>PUT</td>
<td>Admin, Application</td>
<td>change the user's token</td>
</tr>
</tbody>
</table>
<h2 id="errors">Errors</h2>
<p>When errors are returned, they will be in a JSON object that contains information you need to interpret them.
Sample error json:</p>
<div class="code"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;code&quot;</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s2">&quot;reason&quot;</span><span class="o">:</span> <span class="s2">&quot;invalid parameters&quot;</span>
        <span class="s2">&quot;detail&quot;</span><span class="o">:</span> <span class="s2">&quot;user id cannot be empty&quot;</span>
        <span class="s2">&quot;more_info&quot;</span><span class="o">:</span> <span class="s2">&quot;https://appfriends.me/documentation&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="error-codes">Error Codes</h3>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>unknown error</td>
</tr>
<tr>
<td>4</td>
<td>application request limit reached</td>
</tr>
<tr>
<td>5</td>
<td>application does not have permission</td>
</tr>
<tr>
<td>6</td>
<td>requests are too frequent</td>
</tr>
<tr>
<td>100</td>
<td>invalid parameters</td>
</tr>
<tr>
<td>104</td>
<td>incorrect signature</td>
</tr>
<tr>
<td>190</td>
<td>need to login to perform this request</td>
</tr>
<tr>
<td>200</td>
<td>need user to agree to permissions first</td>
</tr>
<tr>
<td>202</td>
<td>operation cannot complete</td>
</tr>
<tr>
<td>203</td>
<td>navigation url not found</td>
</tr>
<tr>
<td>405</td>
<td>user authentication failed</td>
</tr>
<tr>
<td>406</td>
<td>your account is logged in on another device</td>
</tr>
<tr>
<td>502</td>
<td>under maintenance</td>
</tr>
<tr>
<td>503</td>
<td>verify new device failed</td>
</tr>
<tr>
<td>504</td>
<td>internet not available</td>
</tr>
</tbody>
</table>
          <aside class="copyright" role="note">
            
              Copyright (c) 2016 Hacknocraft &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../android/" title="Android Documentation">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Android Documentation
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../security/" title="Authentication and API Requests">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Authentication and API Requests
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = '';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>