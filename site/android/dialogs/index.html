
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A turn-key solution to enable messagina and make your app social.">
      
      
        <link rel="canonical" href="http://www.appfriends.me/android/dialogs/">
      
      
        <meta name="author" content="Hao Wang">
      
      
        <link rel="shortcut icon" href="../../images/logo.png">
      
      <meta name="generator" content="mkdocs-0.16.1, mkdocs-material-1.2.0">
    
    
      
        <title>Dialogs and Messaging - AppFriends Documentation</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-e17eeafcbc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-892b79c5c5.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans:300,400,400i,700|Monaco">
        <style>body,input{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Monaco","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="deep-orange" data-md-color-accent="orange">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="AppFriends Documentation" class="md-logo md-header-nav__button">
            <img src="../../images/logo.png" width="24" height="24">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Android
                </span>
              
            
            Dialogs and Messaging
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-logo md-nav__button">
        <img src="../../images/logo.png">
      </i>
    
    AppFriends Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      iOS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        iOS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/quick_start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/sessions/" title="Sessions" class="md-nav__link">
      Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/social/" title="Social" class="md-nav__link">
      Social
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/dialogs/" title="Dialogs and Messaging" class="md-nav__link">
      Dialogs and Messaging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/album/" title="Album" class="md-nav__link">
      Album
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/push_notification/" title="Push Notification" class="md-nav__link">
      Push Notification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/events/" title="Events" class="md-nav__link">
      Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/encryption/" title="Encryption" class="md-nav__link">
      Encryption
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/ui_components/" title="UI Components" class="md-nav__link">
      UI Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/ui_customization/" title="UI Customization" class="md-nav__link">
      UI Customization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/dependencies/" title="External Dependencies" class="md-nav__link">
      External Dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/error/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Android
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Android
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../quick_start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sessions/" title="Sessions" class="md-nav__link">
      Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../social/" title="Social" class="md-nav__link">
      Social
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="Dialogs and Messaging" class="md-nav__link md-nav__link--active">
      Dialogs and Messaging
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../push/" title="Push Notifications Guide" class="md-nav__link">
      Push Notifications Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../encryption/" title="Encryption" class="md-nav__link">
      Encryption
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ui/" title="UI Integration Guide" class="md-nav__link">
      UI Integration Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/" title="UI Customization Guide" class="md-nav__link">
      UI Customization Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../error/" title="Errors & Exceptions" class="md-nav__link">
      Errors & Exceptions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      ReactNative
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        ReactNative
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/quick_start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/sessions/" title="Sessions" class="md-nav__link">
      Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/dialogs/" title="Dialogs" class="md-nav__link">
      Dialogs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/album/" title="Album" class="md-nav__link">
      Album
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/messaging/" title="Messages" class="md-nav__link">
      Messages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/events/" title="Events" class="md-nav__link">
      Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reactnative/push/" title="Push Notifications Guide" class="md-nav__link">
      Push Notifications Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Javascript
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Javascript
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../javascript/quick_start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../javascript/events/" title="Callbacks & Events" class="md-nav__link">
      Callbacks & Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../javascript/users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../javascript/dialogs/" title="Dialogs" class="md-nav__link">
      Dialogs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../javascript/messaging/" title="Messaging" class="md-nav__link">
      Messaging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../javascript/social/" title="Social" class="md-nav__link">
      Social
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Server API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Server API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/request_auth/" title="Request Authentication" class="md-nav__link">
      Request Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/applicationapi/" title="Application APIs" class="md-nav__link">
      Application APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/adminapi/" title="Admin APIs" class="md-nav__link">
      Admin APIs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#open-channels" title="Open Channels" class="md-nav__link">
    Open Channels
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#private-dialogs" title="Private Dialogs" class="md-nav__link">
    Private Dialogs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#listing-all-private-dialogs" title="Listing All Private Dialogs" class="md-nav__link">
    Listing All Private Dialogs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-dialog" title="Group Dialog" class="md-nav__link">
    Group Dialog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#individual-dialog" title="Individual Dialog" class="md-nav__link">
    Individual Dialog
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#muteunmute" title="Mute/Unmute" class="md-nav__link">
    Mute/Unmute
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-messages" title="Sending Messages" class="md-nav__link">
    Sending Messages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-receipts" title="Message Receipts" class="md-nav__link">
    Message Receipts
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
              
                
                  <h1>Dialogs and Messaging</h1>
                
                <h2 id="open-channels">Open Channels<a class="headerlink" href="#open-channels" title="Permanent link">&para;</a></h2>
<p>Open channel is a public chat, where all of your users can participate. It can handle thousands of users in one channel. ex) Twitch-style public chat.
You can create open channel from your AppFriends web control panel. After a channel is created, all of your users can see all the channels with <code>GET /channels</code> API. A user can only be inside one channel at a time.</p>
<p>List all channels:</p>
<div class="codehilite"><pre><span></span><span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">channelService</span><span class="o">().</span><span class="na">getChannels</span><span class="o">()</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">Subscriber</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Channel</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNext</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Channel</span><span class="o">&gt;</span> <span class="n">channels</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<p>The easiest way to use open channel is by using <code>ChannelActivity</code> from your current activity.</p>
<div class="codehilite"><pre><span></span><span class="n">startActivity</span><span class="o">(</span><span class="n">ChannelActivity</span><span class="o">.</span><span class="na">actionView</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">channel</span><span class="o">.</span><span class="na">id</span><span class="o">));</span>
</pre></div>


<h2 id="private-dialogs">Private Dialogs<a class="headerlink" href="#private-dialogs" title="Permanent link">&para;</a></h2>
<h3 id="listing-all-private-dialogs">Listing All Private Dialogs<a class="headerlink" href="#listing-all-private-dialogs" title="Permanent link">&para;</a></h3>
<p>AppFriends SDK remembers all the private dialogs and you can get the list of private dialogs by:</p>
<div class="codehilite"><pre><span></span><span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">dialogService</span><span class="o">().</span><span class="na">getDialogs</span><span class="o">()</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">Subscriber</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Dialog</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNext</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Dialog</span><span class="o">&gt;</span> <span class="n">dialogs</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<h3 id="group-dialog">Group Dialog<a class="headerlink" href="#group-dialog" title="Permanent link">&para;</a></h3>
<p>A group dialog is a private dialog which is only visible to users in it. You can add more users or remove users from the dialog. To start a group dialog, you need to first create a group dialog:</p>
<div class="codehilite"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">dialogMemberIds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">dialogMemberIds</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;user id of user you would like to invite&quot;</span><span class="o">);</span>

<span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">dialogService</span><span class="o">().</span><span class="na">createDialog</span><span class="o">(</span><span class="s">&quot;dialog title&quot;</span><span class="o">,</span> <span class="n">dialogMemberIds</span><span class="o">)</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">Subscriber</span><span class="o">&lt;</span><span class="n">Dialog</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNext</span><span class="o">(</span><span class="n">Dialog</span> <span class="n">dialog</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
<span class="o">})</span>
</pre></div>


<h3 id="individual-dialog">Individual Dialog<a class="headerlink" href="#individual-dialog" title="Permanent link">&para;</a></h3>
<p>An individual dialog is a private dialog between two users. If you create a group dialog with only 1 user id as member id, then it defaults to an individual dialog.</p>
<h2 id="muteunmute">Mute/Unmute<a class="headerlink" href="#muteunmute" title="Permanent link">&para;</a></h2>
<p>You can mute/unmute a dialog by:</p>
<div class="codehilite"><pre><span></span><span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">dialogService</span><span class="o">().</span><span class="na">muteDialog</span><span class="o">(</span><span class="s">&quot;dialog id&quot;</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span> <span class="c1">// or false</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">CompletableSubscriber</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSubscribe</span><span class="o">(</span><span class="n">Subscription</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<h2 id="sending-messages">Sending Messages<a class="headerlink" href="#sending-messages" title="Permanent link">&para;</a></h2>
<p>Sending text:</p>
<div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">dialogId</span> <span class="o">=</span> <span class="s">&quot;some dialog id&quot;</span><span class="o">;</span>
<span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span> <span class="n">type</span> <span class="o">=</span> <span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span><span class="o">.</span><span class="na">INDIVIDUAL</span><span class="o">;</span> <span class="c1">// or Dialog.DialogType.GROUP</span>
<span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;message body&quot;</span><span class="o">;</span>

<span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">chatService</span><span class="o">.</span><span class="na">sendTextMessage</span><span class="o">(</span><span class="n">dialogId</span><span class="o">,</span> <span class="n">type</span><span class="o">,</span> <span class="n">message</span><span class="o">)</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">CompletableSubscriber</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>
                <span class="c1">// Success</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Error</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSubscribe</span><span class="o">(</span><span class="n">Subscription</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<p>Sending an image:</p>
<div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">dialogId</span> <span class="o">=</span> <span class="s">&quot;some dialog id&quot;</span><span class="o">;</span>
<span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span> <span class="n">type</span> <span class="o">=</span> <span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span><span class="o">.</span><span class="na">INDIVIDUAL</span><span class="o">;</span> <span class="c1">// or Dialog.DialogType.GROUP</span>
<span class="n">String</span> <span class="n">imageUrl</span> <span class="o">=</span> <span class="s">&quot;URL of image&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">thumbUrl</span> <span class="o">=</span> <span class="s">&quot;URL of thumbnail&quot;</span><span class="o">;</span>

<span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">chatService</span><span class="o">.</span><span class="na">sendImageMessage</span><span class="o">(</span><span class="n">dialogId</span><span class="o">,</span> <span class="n">type</span><span class="o">,</span> <span class="n">imageUrl</span><span class="o">,</span> <span class="n">thumbUrl</span><span class="o">)</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">CompletableSubscriber</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>
                <span class="c1">// Success</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Error</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSubscribe</span><span class="o">(</span><span class="n">Subscription</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<p>Sending a video:</p>
<div class="codehilite"><pre><span></span><span class="c1">// dialog is an AFDialog instance</span>
<span class="n">String</span> <span class="n">dialogId</span> <span class="o">=</span> <span class="s">&quot;some dialog id&quot;</span><span class="o">;</span>
<span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span> <span class="n">type</span> <span class="o">=</span> <span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span><span class="o">.</span><span class="na">INDIVIDUAL</span><span class="o">;</span> <span class="c1">// or Dialog.DialogType.GROUP</span>
<span class="n">String</span> <span class="n">videoMediaUrl</span> <span class="o">=</span> <span class="s">&quot;URL of video&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">thumbUrl</span> <span class="o">=</span> <span class="s">&quot;URL of thumbnail&quot;</span><span class="o">;</span>

<span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">chatService</span><span class="o">.</span><span class="na">sendVideoMessage</span><span class="o">(</span><span class="n">dialogId</span><span class="o">,</span> <span class="n">type</span><span class="o">,</span> <span class="n">videoMediaUrl</span><span class="o">,</span> <span class="n">thumbUrl</span><span class="o">)</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">CompletableSubscriber</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>
                <span class="c1">// Success</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Error</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSubscribe</span><span class="o">(</span><span class="n">Subscription</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<p>Sending a gif</p>
<div class="codehilite"><pre><span></span><span class="n">String</span> <span class="n">dialogId</span> <span class="o">=</span> <span class="s">&quot;some dialog id&quot;</span><span class="o">;</span>
<span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span> <span class="n">type</span> <span class="o">=</span> <span class="n">Dialog</span><span class="o">.</span><span class="na">DialogType</span><span class="o">.</span><span class="na">INDIVIDUAL</span><span class="o">;</span> <span class="c1">// or Dialog.DialogType.GROUP</span>
<span class="n">String</span> <span class="n">gifImageUrl</span> <span class="o">=</span> <span class="s">&quot;URL of gif image&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">thumbUrl</span> <span class="o">=</span> <span class="s">&quot;URL of thumbnail&quot;</span><span class="o">;</span>

<span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">chatService</span><span class="o">.</span><span class="na">sendImageMessage</span><span class="o">(</span><span class="n">dialogId</span><span class="o">,</span> <span class="n">type</span><span class="o">,</span> <span class="n">gifImageUrl</span><span class="o">,</span> <span class="n">thumbUrl</span><span class="o">)</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">CompletableSubscriber</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>
                <span class="c1">// Success</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Error</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSubscribe</span><span class="o">(</span><span class="n">Subscription</span> <span class="n">d</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<h2 id="message-receipts">Message Receipts<a class="headerlink" href="#message-receipts" title="Permanent link">&para;</a></h2>
<p>You can check the receipts of a message by using:</p>
<div class="codehilite"><pre><span></span><span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">chatService</span><span class="o">().</span><span class="na">getReadReceipts</span><span class="o">(</span><span class="n">messageTempID</span><span class="o">)</span>
        <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="k">new</span> <span class="n">Subscriber</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompleted</span><span class="o">()</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNext</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">receivedUserIds</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>
</pre></div>


<p>Sending Receipts:
If you use the chat view provided in AppFriendsUI SDK, you do not need to manually send the receipts. The UI SDK automatically handles it. If you wish to send receipts yourself, it can be done via <code>ChatService</code>:</p>
<div class="codehilite"><pre><span></span><span class="c1">// message is of Message type</span>
<span class="n">AppFriends</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">chatService</span><span class="o">().</span><span class="na">readMessage</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
</pre></div>
              
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../social/" title="Social" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Social
              </span>
            </div>
          </a>
        
        
          <a href="../push/" title="Push Notifications Guide" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Push Notifications Guide
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright (c) 2016 Hacknocraft
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/Hacknocraft/" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-30ac6a1727.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>